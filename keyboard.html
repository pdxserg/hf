<!DOCTYPE html>
<html lang="">
<head>
  <title>Keyboard input</title>
</head>
<body>
  <canvas id="canvas" width="400" height="400"></canvas>
  <script src="https://code.jquery.com/jquery-2.1.0.js"></script>
  <script>
    // $("body").keydown(function(event){
    //     console.log(event.keyCode)
    // })
    // let keyNames ={
    //     32: 'space',
    //     37: 'left',
    //     38: 'up',
    //     39: 'right',
    // }
    // $("body").keydown(function(event){
    //     console.log(keyNames[event.keyCode])
    // })
    const canvas = document.getElementById("canvas");
    const ctx = canvas.getContext("2d");
    const width = canvas.width;
    const height = canvas.height;

    const circle = function (x, y, radius, fillCircle) {
      ctx.beginPath()
      ctx.arc(x, y, radius, 0, Math.PI * 2, false)
      if (fillCircle) {
        ctx.fill()
      } else {
        ctx.stroke()
      }
    };
    let Ball = function(){
        this.x = width /2
        this.y = height /2
        this.xSpeed = 3
      this.ySpeed = 0
        this.speed  = 3

       }
       Ball.prototype.move = function(){
        this.x += this.xSpeed
        this.y += this.ySpeed

        if (this.x < 0){
            this.xSpeed = this.speed
        } else if (this.x >width){
            this.xSpeed = -this.speed
        }
        if (this.y < 0){
            this.ySpeed = this.speed
        } else if (this.y >height){
            this.ySpeed = -this.speed
        }
       }

       Ball.prototype.draw = function(){
        circle(this.x, this.y,10, false)
       }
       Ball.prototype.setDirection = function(direction){
       if (direction === 'speed1') {
           this.speed = this.speed * 3

         }
      else  if (direction === 'up'){
            this.xSpeed = 0
            this.ySpeed = -this.speed
        } else if (direction === 'down'){
            this.xSpeed = 0
            this.ySpeed = this.speed
        } else if (direction === 'right'){
            this.xSpeed = this.speed
            this.ySpeed = 0
        } else if(direction === 'left'){
            this.xSpeed = -this.speed
            this.ySpeed = 0
        } else if (direction === 'stop'){
            this.xSpeed = 0
            this.ySpeed = 0
        }else if (direction === 'speed1') {
          this.xSpeed = this.speed * 3
          this.ySpeed = this.speed* 3
        }
       }

       let ball = new Ball()
       let keyAction = {
        32: 'stop',
        37: 'left',
        38: 'up',
        39: 'right',
        40: 'down',
         1: 10,
         2: 'speed2',
         3: 'speed3'
       }

       $("body").keydown(function(event){
        let direction = keyAction[event.keyCode]
        ball.setDirection(direction)
       })
       
       setInterval(function(){
        ctx.clearRect(0, 0, width, height)
        ball.draw()
        ball.move()
        ctx.strokeRect(0, 0, width, height)
       }, 30 )
  
  </script>
</body>
</html>